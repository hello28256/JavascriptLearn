<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map&Set</title>
    <script>
        // ES6 Map
        // 学生成绩，学生姓名
        // var names = ["Tone","jay","sony"];
        // var scores = [92,84,96];

        var map = new Map([['Tone',92],['jay',84],['sony',96]]);
        var name = map.get('Tone'); // 通过key获得value
        map.set('admin',123456);    // 新增
        map.delete('Tone'); //删除

        //Set：无序不重复的集合。
        var set = new Set([1,2,3,4,5,6,7,8]);
        set.add(2); // 添加
        set.delete(1);   // 删除
        console.log(set.has(3));    // 是否包含某个元素

        //使用iterator来遍历迭代我们Map，Set，数组
        var arr = [3,4,5,6,7,8,12];
        for(var x of arr){
            console.log(x);
        }
        var map = new Map([['Tone',92],['jay',84],['sony',96]]);
        for (let x of map){
            console.log(x);
        }
        var set = new Set([15,66,45,16,72]);
        for(let x of set){
            console.log(x);
        }
        //=======================数组==================================
        const arr = [12, 99, 56];
        // 1. 拿到迭代器对象
        const it = arr[Symbol.iterator]();
        // 2. 调用 it.next()
        console.log(it.next()); // { value: 12, done: false }
        console.log(it.next()); // { value: 99, done: false }
        console.log(it.next()); // { value: 56, done: false }
        console.log(it.next()); // { value: undefined, done: true }
        //自己写 while：
        const arr = [12, 99, 56];
        const it = arr[Symbol.iterator]();

        let result = it.next();
        while (!result.done) {
            console.log(result.value);
            result = it.next();
        }
        //=======================Set==================================
        const s = new Set([10, 20, 30]);

        // 1. 手动迭代器
        const it = s[Symbol.iterator]();
        console.log(it.next()); // { value: 10, done: false }

        // 2. 推荐：for...of
        for (const value of s) {
            console.log(value);
        }
        //=======================Set==================================
        const m = new Map([
            ['name', 'yang'],
            ['age', 23],
            ['city', 'HZ']
        ]);

        // 1. 默认迭代器 = entries()
        const it = m[Symbol.iterator]();
        console.log(it.next());  // { value: ['name', 'yang'], done: false }

        // 2. for...of 遍历键值对
        for (const [key, value] of m) {
            console.log(key, value);
        }
    </script>
</head>
<body>

</body>
</html>